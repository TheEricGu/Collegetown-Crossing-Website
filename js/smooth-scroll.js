$('a[href*="#"]').on("click", function (t) { if ("" !== this.hash) { var h = this.hash; return $("html, body").animate({ scrollTop: $(h).offset().top - 100 }, 800, function () { history.pushState ? history.pushState(null, null, h) : window.location.hash = h }), !1 } });